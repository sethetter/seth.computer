---
collection: posts
layout: post.html
title: I switched to Metalsmith, for no good reason
url: i-switched-to-metalsmith-for-no-good-reason
date: 2015-12-30
---

I decided, over the last couple days, to learn a bit about
[Metalsmith](http://metalsmith.io). It's a static content generator for node.js.
I've been happy with [Jekyll](http://jekyllrb.com), thoroughly so. But I'm
definitely more of a JavaScript guy, so I wanted to check out what Metalsmith
had to offer.

## I admit it

This was essentially pointless. I had a website that already functioned the way
I wanted it to. Namely:

1. Hosted on GitHub
2. Dynamically generated static content
3. Written in markdown

Jekyll does a fantastic job at that. Also, considering I wanted to host on
GitHub, choosing jekyll makes that *even easier* since it's supported. With
Metalsmith I had to [add a small
step](https://github.com/sethetter/sethetter.com/blob/master/bin/deploy) to
commit the generated content by itself into the `gh-pages` branch.

Not a big deal, but still.

Sometimes, I'm a bit of a purist. At least in situations where it isn't
detrimental. I wanted to learn about Metalsmith, so I rebuilt my website with
it. BIG DEAL!

Anyways..

## Metalsmith is awesome!

Unlike Jekyll, Metalsmith is a base system that takes files from a `src/`
directory and outputs them to a destination folder. It passes these files
through a series of middleware "plugins" that perform different operations on
them. This makes Metalsmith much more flexible than Jekyll.

It just so happens that Jekyll already did what I needed. But again, that's
beside the point.

It goes something like this:

```javascript
Metalsmith(__dirname)
.use(markdown())
.use(collections({
  posts: { sortBy: 'date' }
})
.use(layouts({
  engine: 'handlebars',
  directory: './layouts'
})
.build(function(err) {
  if (err) throw err;
});
```

Each of the functions in the `use` statements are a plugin. Plugins are super
easy. They just have to be a function that accepts `files`, `metalsmith`, and
`next`. You do some stuff with the files, attach information to the `metalsmith`
instance, or whatever else you want to do, then call `next()`.

```javascript
Metalsmith(__dirname)
.use(function(files, metalsmith, next) {
  addLotsOfCurseWords(files);
  metalsmith.metadata().familyFriendly = false;

  next();
});
```

There are a bunch of metalsmith plugins already created too. I didn't have to
write anything new to accomplish what I wanted, which again, was a jekyll
replacement.

## Did I waste my time?

I felt like I was at first, because surely there was another project that I
could have used to learn metalsmith with, but I chose this one. All in all, I
just wanted to switch to my site being generated by node instead of ruby,
whether that's petty and pointless or not, damnit, I did it.

It was fun though! I've really enjoyed working with metalsmith and plan to use
it for static sites in the future. It can be much more than that, so I'm happy
to have this new tool under my belt.

## The sooooooource

You can [view the source on github](https://github.com/sethetter/sethetter.com).

Feel free to ask any questions. I'm not a metalsmith expert, by any means, but
I learned a bit.

THE END
